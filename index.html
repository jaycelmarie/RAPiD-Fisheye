<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="src/pyscript.css">
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>

    <!-- <py-env>
        - paths:
            - ./example.py
            - ./api.py
    </py-env> -->
    <title>Fisheye Algorithm</title> 
</head>
<body>

    <py-config>
        packages = ['numpy', 'matplotlib', 'Image', 'tqdm', 'torch', 'visualization', 'dataloader', 'utils']

        [[fetch]]
        files = ['api'.py', 'example.py']
        from = 'package'
        to_folder = 'package'
    </py-config>

    <div class="container">
        
        <h1>Menu</h1>

        <!-- Open Camera -->
        <!-- <button type="button" id="openCam">CAMERA</button>
        <py-script>
            from js import document
            from pyodide import create_proxy

            def openCamera(self):
                print("You have chosen to Open Camera.")
            
            camera_proxy = create_proxy(openCamera)

            document.getElementById("openCam").addEventListener("click", camera_proxy)
        </py-script> -->

        <!-- Select RAPID weight Image Button -->
        <button type="button" id="rapid">RAPID</button>
        <!-- 
        <py-script src="./example.py">
            from api import Detector
        </py-script> -->

        <py-script src="./api.py">
            from api import Detector

            detector = Detector(model_name='rapid',
                                weights_path='./weights/pL1_MWHB1024_Mar11_4000.ckpt',
                                use_cuda=False)

            detector.detect_one(img_path='./images/exhibition.jpg',
                                input_size=1024, conf_thres=0.3,
                                visualize=True)

        </py-script>


        <!-- Select RAPID-FA weight Image Button -->
        <!-- <button type="button" id="rapidFA" pys-onClick="rapid">RAPID-FA</button>
        <py-script>
            from js import document
            from pyodide import create_proxy

            def rapidFAImg(self):
                print("You have chosen to Select a RAPIDFA image weight.")
            
            rapidFA_proxy = create_proxy(rapidFAImg)

            document.getElementById("rapidFA").addEventListener("click", rapidFA_proxy)
        </py-script> -->

        <!-- Select RAPID-FGFA weight Image Button -->
        <!-- <button type="button" id="rapidFGFA">RAPID-FGFA</button>
        <py-script>
            from js import document
            from pyodide import create_proxy
    
            def rapidFGFAImg(self):
                print("You have chosen to Select a RAPID-FGFA image weight.")
            
            rapidFGFA_proxy = create_proxy(rapidFGFAImg)
    
            document.getElementById("rapidFGFA").addEventListener("click", rapidFGFA_proxy)
        </py-script> -->

    </div>
</body>
</html>